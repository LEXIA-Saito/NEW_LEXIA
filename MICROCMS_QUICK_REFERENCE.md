# microCMS スキーマ設定クイックリファレンス

**対象**: LEXIAブログ用microCMS設定  
**最終更新**: 2025-10-15

---

## 📊 スキーマ全体像

```
API: blog (リスト形式)
│
├─ 📝 基本情報
│  ├─ slug (テキスト) ✅必須
│  ├─ title (テキスト) ✅必須
│  ├─ description (テキストエリア) ✅必須
│  ├─ genre (セレクト: tech/trends/ideas) ✅必須
│  ├─ tags (複数選択)
│  └─ date (日時) ✅必須
│
├─ 🖼️ 画像
│  ├─ heroImage (画像)
│  └─ heroImageAlt (テキスト)
│
└─ 📄 本文（繰り返しフィールド） ✅必須
   └─ sections
      ├─ heading (テキスト)
      ├─ body (複数テキスト)
      ├─ image (画像)
      ├─ imageAlt (テキスト)
      ├─ list (複数テキスト)
      └─ table (カスタム JSON)
```

---

## ⚡ 5分でできる最小構成

最低限これだけあれば記事を公開できます:

### 必須フィールド（7つ）

| # | フィールド | 種類 | 例 |
|---|-----------|------|-----|
| 1 | `slug` | テキスト | `nextjs-15-guide` |
| 2 | `title` | テキスト | `Next.js 15移行ガイド` |
| 3 | `description` | テキストエリア | `Next.js 15の新機能を解説...` |
| 4 | `genre` | セレクト | `tech` |
| 5 | `tags` | 複数選択 | `[Next.js, React]` |
| 6 | `date` | 日時 | `2025-10-15` |
| 7 | `sections` | 繰り返し | `[{body: ["本文..."]}]` |

---

## 🎨 セクション構成パターン

### パターン1: シンプル（テキストのみ）
```
sections[0]:
  body:
    - "Next.js 15が2025年10月にリリースされました。"
    - "本記事では主な新機能を解説します。"
```

### パターン2: 見出し + リスト + 画像
```
sections[1]:
  heading: "主な新機能"
  body:
    - "Next.js 15では以下の機能が追加されました。"
  list:
    - "React 19のサポート"
    - "Turbopackの安定性向上"
    - "App Routerの機能拡張"
  image: [画像アップロード]
  imageAlt: "Next.js 15の新機能一覧図"
```

### パターン3: テーブル活用
```
sections[2]:
  heading: "パフォーマンス比較"
  body:
    - "Next.js 14と15のビルド時間を比較しました。"
  table:
    {
      "headers": ["指標", "Next.js 14", "Next.js 15", "改善率"],
      "rows": [
        ["ビルド時間", "45秒", "28秒", "38%削減"],
        ["初回ロード", "1.2秒", "0.8秒", "33%高速化"]
      ]
    }
```

---

## 🔢 フィールド設定の優先順位

### 最優先（必ず設定）

1. ✅ `slug` - パターン検証: `^[a-z0-9]+(?:-[a-z0-9]+)*$`
2. ✅ `title` - 最小10文字、最大100文字
3. ✅ `description` - 最小50文字、最大160文字
4. ✅ `genre` - 選択肢: tech, trends, ideas
5. ✅ `date` - 日時フィールド
6. ✅ `sections` - 繰り返しフィールド

### 推奨（SEO・UX向上）

7. 🎨 `heroImage` - 1200×675px推奨
8. 🎨 `heroImageAlt` - アクセシビリティ向上
9. 🏷️ `tags` - 検索性向上（1〜3個）

### オプション（高度な表現）

10. 📋 `sections.table` - データ表示
11. 🖼️ `sections.image` - セクション内画像
12. 🖼️ `sections.imageAlt` - 画像説明

---

## 📝 実践例: 記事作成の流れ

### Step 1: 基本情報を入力

```
slug: nextjs-15-migration-guide
title: Next.js 15 移行ガイド：新機能と移行手順を徹底解説
description: Next.js 15の新機能（React 19サポート、Turbopack改善）と移行時の注意点をコード例付きで解説します。
genre: tech（プルダウンから選択）
tags: Next.js, React, Web開発（複数選択）
date: 2025-10-15（カレンダーから選択）
heroImage: [画像アップロードボタンをクリック]
heroImageAlt: Next.js 15のロゴとコードエディタのスクリーンショット
```

### Step 2: セクションを追加

**セクション1（導入部分）**:
```
「+ アイテムを追加」ボタンをクリック

heading: （空欄 - 見出しなし）
body: 
  - "Next.js 15が2025年10月にリリースされました。"
  - "本記事では、主な新機能と移行手順を解説します。"
```

**セクション2（機能紹介）**:
```
「+ アイテムを追加」ボタンをクリック

heading: "主な新機能"
body:
  - "Next.js 15では以下の機能が追加されました。"
list:
  - "React 19のサポート"
  - "Turbopackの安定性向上"
  - "App Routerの機能拡張"
image: [新機能の図解画像をアップロード]
imageAlt: "Next.js 15の新機能一覧図"
```

**セクション3（まとめ）**:
```
「+ アイテムを追加」ボタンをクリック

heading: "まとめ"
body:
  - "Next.js 15は、パフォーマンスと開発体験が大幅に向上しています。"
  - "移行は比較的スムーズですが、React 19の変更点に注意が必要です。"
```

### Step 3: 保存・公開

1. **「下書き保存」**で一時保存
2. プレビュー機能で確認（オプション）
3. **「公開」**ボタンをクリック
4. 最大60秒でWebサイトに反映（ISR）

---

## 🎯 ジャンル（genre）の選び方

| ジャンル | 内容 | 使用例 |
|---------|------|--------|
| **tech** | コード解説、実装手順、API使い方、フレームワーク分析 | Next.js移行ガイド、Firebase導入手順、TypeScript型安全設計 |
| **trends** | 新技術動向、AI／Web界隈の最新潮流、ツール紹介 | STUDIO AIの現状、Onlook調査レポート、2025年Web技術トレンド |
| **ideas** | Web制作戦略、コンセプト設計、UX思想、プロセス論 | デザインシステム構築論、アジャイル開発のベストプラクティス |

**判断基準**:
- コードが中心 → `tech`
- 業界動向・ツール紹介 → `trends`
- 思想・戦略・プロセス → `ideas`

---

## 💡 よくある質問（FAQ）

### Q1: セクションの順番を変更できますか？
A1: はい、ドラッグ&ドロップで並び替え可能です。

### Q2: 画像のファイルサイズ制限は？
A2: microCMSの制限に準拠（通常は10MB以下推奨）。WebP形式で圧縮してアップロードするとさらに最適化されます。

### Q3: テーブル（table）の使い方がわかりません
A3: JSON形式で入力します。コピペ推奨:
```json
{
  "headers": ["列1", "列2", "列3"],
  "rows": [
    ["データ1-1", "データ1-2", "データ1-3"],
    ["データ2-1", "データ2-2", "データ2-3"]
  ]
}
```

### Q4: slugを後から変更できますか？
A4: 技術的には可能ですが、URLが変わるためSEOに悪影響があります。公開前に慎重に設定してください。

### Q5: 読了時間はどこで設定しますか？
A5: 自動計算されるため設定不要です。全セクションの文字数から自動算出されます。

---

## 🚀 次のステップ

1. **詳細ガイド**: `MICROCMS_SCHEMA_GUIDE.md` で各フィールドの詳細設定を確認
2. **統合ガイド**: `MICROCMS_BLOG_GUIDE.md` で環境変数設定とデプロイ手順を確認
3. **記事作成**: `AGENTS.md` でブログ記事のワークフローとスタイル指針を確認

---

**作成日**: 2025-10-15  
**管理者**: LEXIA開発チーム
